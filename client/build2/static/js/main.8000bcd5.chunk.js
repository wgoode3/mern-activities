(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(t,e,a){t.exports=a(66)},37:function(t,e,a){},38:function(t,e,a){},66:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(28),c=a.n(r),l=(a(37),a(8)),o=a(9),s=a(11),u=a(10),m=a(12),v=(a(38),a(14)),p=a(13),h=a(31),y=a(4),E=a.n(y);var d=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).componentDidMount=function(){E.a.get("/activities").then(function(t){a.setState({activities:t.data.activities},function(){a.rateThings()})}).catch(function(t){console.log(t)})},a.rateThings=function(){var t=Object(h.a)(a.state.activities);for(var e in t)if(t[e].reviews.length>0){var n=0,i=!0,r=!1,c=void 0;try{for(var l,o=t[e].reviews[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){n+=l.value.rating}}catch(s){r=!0,c=s}finally{try{i||null==o.return||o.return()}finally{if(r)throw c}}t[e].avgRating=n/t[e].reviews.length}else t[e].avgRating=0;t=function(t,e){for(var a=0;a<t.length-1;a++)for(var n=0;n<t.length-1-a;n++)if(t[n][e]<t[n+1][e]){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t}(t,"avgRating"),a.setState({activities:t})},a.state={activities:[]},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Activities"),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Type"),i.a.createElement("th",null,"Rating"),i.a.createElement("th",null,"Duration"),i.a.createElement("th",null,"Actions"))),i.a.createElement("tbody",null,this.state.activities.map(function(t){return i.a.createElement("tr",{key:t._id},i.a.createElement("td",null,t.type),i.a.createElement("td",null,t.avgRating),i.a.createElement("td",null,t.duration," ",t.units),i.a.createElement("td",null,i.a.createElement(v.b,{to:"/activity/"+t._id+"/edit"},i.a.createElement("button",null,"Edit")),i.a.createElement(v.b,{to:"/activity/"+t._id+"/review"},i.a.createElement("button",null,"Review"))))}))))}}]),e}(n.Component),g=a(3),f=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).changeType=function(t){a.setState({activity:Object(g.a)({},a.state.activity,{type:t.target.value})})},a.changeDuration=function(t){a.setState({activity:Object(g.a)({},a.state.activity,{duration:t.target.value})})},a.changeUnits=function(t){a.setState({activity:Object(g.a)({},a.state.activity,{units:t.target.value})})},a.create=function(t){t.preventDefault(),E.a.post("/activities",a.state.activity).then(function(t){t.data.errors?(a.setState({errors:t.data.errors.errors}),console.log(a.state)):a.props.history.push("/")}).catch(function(t){console.log(t)})},a.state={activity:{type:"",duration:"",units:"Years"},errors:{}},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Create Activity"),i.a.createElement("form",{onSubmit:this.create},i.a.createElement("p",null,"Type:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeType}),this.state.errors.type?i.a.createElement("span",{className:"error"},"\xa0",this.state.errors.type.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Duration:\xa0",i.a.createElement("input",{type:"number",onChange:this.changeDuration}),this.state.errors.duration?i.a.createElement("span",null,"\xa0",this.state.errors.duration.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Units:\xa0",i.a.createElement("select",{onChange:this.changeUnits},i.a.createElement("option",null,"Years"),i.a.createElement("option",null,"Months"),i.a.createElement("option",null,"Days"),i.a.createElement("option",null,"Hours"),i.a.createElement("option",null,"Minutes"),i.a.createElement("option",null,"Seconds"))),i.a.createElement("button",{type:"submit"},"Create Activity")))}}]),e}(n.Component),b=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).componentDidMount=function(){E.a.get("/activities/".concat(a.props.match.params._id)).then(function(t){a.setState({activity:t.data.activity})}).catch(function(t){console.log(t)})},a.changeType=function(t){a.setState({activity:Object(g.a)({},a.state.activity,{type:t.target.value})})},a.changeDuration=function(t){a.setState({activity:Object(g.a)({},a.state.activity,{duration:t.target.value})})},a.changeUnits=function(t){a.setState({activity:Object(g.a)({},a.state.activity,{units:t.target.value})})},a.update=function(t){t.preventDefault(),console.log(a.state),E.a.put("/activities/".concat(a.props.match.params._id),a.state.activity).then(function(t){t.data.errors?a.setState({errors:t.data.errors.errors}):a.props.history.push("/")}).catch(function(t){console.log(t)})},a.delete=function(t){E.a.delete("/activities/".concat(a.props.match.params._id)).then(function(t){a.props.history.push("/")}).catch(function(t){console.log(t)})},a.state={activity:{type:"",duration:"",units:"Years"},errors:{}},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Edit Activity"),i.a.createElement("form",{onSubmit:this.update},i.a.createElement("p",null,"Type:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeType,value:this.state.activity.type}),this.state.errors.type?i.a.createElement("span",{className:"error"},"\xa0",this.state.errors.type.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Duration:\xa0",i.a.createElement("input",{type:"number",onChange:this.changeDuration,value:this.state.activity.duration}),this.state.errors.duration?i.a.createElement("span",null,"\xa0",this.state.errors.duration.message):i.a.createElement("span",null)),i.a.createElement("p",null,"Units:\xa0",i.a.createElement("select",{id:"select",onChange:this.changeUnits,value:this.state.activity.units},i.a.createElement("option",{value:"Years"},"Years"),i.a.createElement("option",{value:"Months"},"Months"),i.a.createElement("option",{value:"Days"},"Days"),i.a.createElement("option",{value:"Hours"},"Hours"),i.a.createElement("option",{value:"Minutes"},"Minutes"),i.a.createElement("option",{value:"Seconds"},"Seconds"))),i.a.createElement("button",{type:"submit"},"Update Activity")),i.a.createElement("button",{onClick:this.delete},"Delete Activity"))}}]),e}(n.Component),w=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).componentDidMount=function(){E.a.get("/activities/".concat(a.props.match.params._id)).then(function(t){a.setState({activity:t.data.activity})}).catch(function(t){console.log(t)})},a.review=function(t){t.preventDefault(),E.a.post("/activities/".concat(a.props.match.params._id,"/review"),a.state.review).then(function(t){a.componentDidMount()}).catch(function(t){console.log(t)})},a.changeName=function(t){a.setState({review:Object(g.a)({},a.state.review,{name:t.target.value})})},a.changeRating=function(t){a.setState({review:Object(g.a)({},a.state.review,{rating:t.target.value})})},a.changeDesc=function(t){a.setState({review:Object(g.a)({},a.state.review,{description:t.target.value})})},a.state={activity:{type:"",duration:"",units:"Years",reviews:[]},review:{name:"",rating:3,description:""},errors:{}},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h3",null,"Activity: ",this.state.activity.type),i.a.createElement("h4",null,"Duration: ",this.state.activity.duration," ",this.state.activity.units),i.a.createElement("h4",null,"Reviews:"),i.a.createElement("hr",null),this.state.activity.reviews.map(function(t,e){return i.a.createElement("div",{key:e},i.a.createElement("p",null,i.a.createElement("strong",null,t.name," says:"),"\xa0",t.description),i.a.createElement("p",null,t.rating),i.a.createElement("hr",null))}),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Review Activity"),i.a.createElement("form",{onSubmit:this.review},i.a.createElement("p",null,"Name:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeName})),i.a.createElement("p",null,"Rating:\xa0",i.a.createElement("input",{type:"number",onChange:this.changeRating})),i.a.createElement("p",null,"Description:\xa0",i.a.createElement("input",{type:"text",onChange:this.changeDesc})),i.a.createElement("button",{type:"submit"},"Review Activity"))))}}]),e}(n.Component),j=function(t){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Welcome to Activity Reviews"),i.a.createElement(v.a,null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(v.b,{to:"/"},"Home")),i.a.createElement("li",null,i.a.createElement(v.b,{to:"/activity/new"},"New Activity"))),i.a.createElement(p.a,{exact:!0,path:"/",component:d}),i.a.createElement(p.a,{path:"/activity/new",component:f}),i.a.createElement(p.a,{path:"/activity/:_id/edit",component:b}),i.a.createElement(p.a,{path:"/activity/:_id/review",component:w})))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.8000bcd5.chunk.js.map